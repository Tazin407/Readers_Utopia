{% extends "base.html" %}
{% block content %}



<h3>Search by categories</h3><br>
   
</div>

<div class='d-flex justify-content-around m-3' >

{%for cat in categories%}

<a href="{% url 'sort_category' cat.id %}" class='btn btn-light'> {{cat}} </a>


{%endfor%}

</div>
<br>


<div class='d-flex justify-content-around m-3 g-2'>

    {% if var == 'sort' %}

    <div>
        <p>{{books | length}} Results found </p>
        <br>
    </div>

    {% endif %}

    {%for book in books%}
  
  <div class="card m-3" style="width: 18rem;">
  
      <img src="{{book.image.url}}" class="card-img-top w-100" alt="...">
  
  
      <h5 class="card-title"><a href="{% url 'details' book.id %}">{{book.title}}</a></h5>
      <div class="card-body">
        <p class="card-text">{{book.description | truncatewords:28}}</p>
      </div><br>
  
      <div class='d-flex p-2 justify-content-between'>
        {%for cat in book.categories.all%}
      <button class='btn btn-primary btn-sm btn-block p-1' disabled >{{cat.title}}</button>
      <br>
      {% endfor %}
    </div>
  
    </div>
  
  
  {% endfor %}
  </div>

{% endblock  %}